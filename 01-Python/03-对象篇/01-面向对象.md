#  Attack on Python - é¢å‘å¯¹è±¡ ğŸ




<extoc></extoc>

## ä»‹ç» 

ç¼–ç¨‹èŒƒå¼

ç¼–ç¨‹æ˜¯ç¨‹åºå‘˜ç”¨ ç‰¹å®šçš„è¯­æ³• + æ•°æ®ç»“æ„ + ç®—æ³•ç»„æˆçš„ä»£ç æ¥å‘Šè¯‰è®¡ç®—æœºå¦‚ä½•æ‰§è¡Œä»»åŠ¡çš„è¿‡ç¨‹ , è€Œå®ç°ä¸€ä¸ªä»»åŠ¡çš„æ–¹å¼æœ‰å¾ˆå¤šç§ä¸åŒçš„æ–¹å¼ ,  å¯¹è¿™äº›ä¸åŒçš„ç¼–ç¨‹æ–¹å¼çš„ç‰¹ç‚¹è¿›è¡Œå½’çº³æ€»ç»“å¾—å‡ºæ¥çš„ç¼–ç¨‹æ–¹å¼ç±»åˆ«ï¼Œå³ä¸ºç¼–ç¨‹èŒƒå¼

- é¢å‘è¿‡ç¨‹ç¼–ç¨‹  Procedural Programming

é¢å‘è¿‡ç¨‹ç¼–ç¨‹å°±æ˜¯ç¨‹åºä»ä¸Šåˆ°ä¸‹ä¸€æ­¥æ­¥æ‰§è¡Œ , åŸºæœ¬è®¾è®¡æ€è·¯å°±æ˜¯ç¨‹åºä¸€å¼€å§‹æ˜¯è¦ç€æ‰‹è§£å†³ä¸€ä¸ªå¤§çš„é—®é¢˜ , ç„¶åæŠŠä¸€ä¸ªå¤§é—®é¢˜åˆ†è§£æˆå¾ˆå¤šä¸ªå°é—®é¢˜æˆ–å­è¿‡ç¨‹ , è¿™å†™å­è¿‡ç¨‹å†æ‰§è¡Œçš„è¿‡ç¨‹å†ç»§ç»­åˆ†è§£ç›´åˆ°å°é—®é¢˜è¶³å¤Ÿç®€å•åˆ°å¯ä»¥åœ¨ä¸€ä¸ªå°æ­¥éª¤èŒƒå›´å†…è§£å†³

åœ¨Pythonä¸­ , æˆ‘ä»¬é€šè¿‡æŠŠå¤§æ®µä»£ç æ‹†æˆå‡½æ•° , é€šè¿‡ä¸€å±‚ä¸€å±‚çš„å‡½æ•°è°ƒç”¨ , å°±å¯ä»¥æŠŠå¤æ‚ä»»åŠ¡åˆ†è§£æˆç®€å•çš„ä»»åŠ¡ , è¿™ç§åˆ†è§£å¯ä»¥ç§°ä¹‹ä¸ºé¢å‘è¿‡ç¨‹çš„ç¨‹åºè®¾è®¡ . å‡½æ•°å°±æ˜¯é¢å‘è¿‡ç¨‹çš„ç¨‹åºè®¾è®¡çš„åŸºæœ¬å•å…ƒ

- å‡½æ•°å¼ç¼–ç¨‹  Functional Programming

å‡½æ•°å¼ç¼–ç¨‹å°±æ˜¯ä¸€ç§æŠ½è±¡ç¨‹åº¦å¾ˆé«˜çš„ç¼–ç¨‹èŒƒå¼ , çº¯ç²¹çš„å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ç¼–å†™çš„å‡½æ•°æ²¡æœ‰å˜é‡ , å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯ , å…è®¸æŠŠå‡½æ•°æœ¬èº«ä½œä¸ºå‚æ•°ä¼ å…¥å¦ä¸€ä¸ªå‡½æ•° , è¿˜å…è®¸è¿”å›ä¸€ä¸ªå‡½æ•°  , Pythonå¯¹å‡½æ•°å¼ç¼–ç¨‹æä¾›éƒ¨åˆ†æ”¯æŒ . ç”±äºPythonå…è®¸ä½¿ç”¨å˜é‡ , å› æ­¤ , Pythonä¸æ˜¯çº¯å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€

- é¢å‘å¯¹è±¡ç¼–ç¨‹  Object Oriented Programming

é¢å‘å¯¹è±¡ç¼–ç¨‹æ˜¯åˆ©ç”¨"ç±»"å’Œ"å¯¹è±¡"æ¥åˆ›å»ºå„ç§æ¨¡å‹æ¥å®ç°å¯¹çœŸå®ä¸–ç•Œçš„æè¿° , ä½¿ç”¨é¢å‘å¯¹è±¡ç¼–ç¨‹çš„åŸå› ä¸€æ–¹é¢æ˜¯å› ä¸ºå®ƒå¯ä»¥ä½¿ç¨‹åºçš„ç»´æŠ¤å’Œæ‰©å±•å˜å¾—æ›´ç®€å• , å¹¶ä¸”å¯ä»¥å¤§å¤§æé«˜ç¨‹åºå¼€å‘æ•ˆç‡ , å¦å¤– , åŸºäºé¢å‘å¯¹è±¡çš„ç¨‹åºå¯ä»¥ä½¿å®ƒäººæ›´åŠ å®¹æ˜“ç†è§£ä½ çš„ä»£ç é€»è¾‘ , ä»è€Œä½¿å›¢é˜Ÿå¼€å‘å˜å¾—æ›´ä»å®¹

## ç±»ä¸å®ä¾‹

ç±»çš„è¯­æ³•

```python
class ç±»å:
    pass
```

ä¸€ä¸ªæ —å­ğŸŒ°

```python
# åˆ›å»ºä¸€ä¸ªäººçš„'ç±»',é¦–å­—æ¯è¦å¤§å†™
class Person(object):
    # æ„é€ å‡½æ•°,åˆå§‹åŒ–å±æ€§
    def __init__(self,name):
        self.name = name
	# äººå¯ä»¥åƒé¥­
    def eat(self):
    	print("I am eatting")
# åˆ›é€ äº†ä¸€ä¸ªå«åš'Lyon'çš„äºº        
p = Person('Lyon')
# æ‰§è¡Œåƒé¥­åŠŸèƒ½
p.eat()
# æ‰§è¡Œç»“æœ: I am eatting
```

* ç±» (class)  

ç±»å°±æ˜¯ `å¯¹ç°å®ç”Ÿæ´»ä¸­ä¸€ç±»å…·æœ‰å…±åŒç‰¹å¾äº‹ç‰©çš„æŠ½è±¡` 

ç±»èµ·åˆ°ä¸€ä¸ªæ¨¡æ¿çš„ä½œç”¨ , å½“æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç±»æ—¶ , å°±ç›¸å½“äºåˆ›å»ºäº†ä¸€ä¸ªåˆå§‹çš„'æ¨¡å‹' , æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ª'æ¨¡å‹' æ¥åˆ›å»ºå‡ºä¸€ä¸ªä¸ªå…·æœ‰ç›¸åŒç‰¹å¾æˆ–åŠŸèƒ½çš„äº‹ç‰© , æ¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½çš„å¤„ç†é—®é¢˜

åœ¨ä¸Šè¿°æ —å­ä¸­ç±»åPerson åæœ‰ä¸€ä¸ª` (object) ` , è¿™æ˜¯æ–°å¼ç±»çš„å†™æ³• , è€Œåœ¨python3.x ä»¥ä¸Šçš„ç‰ˆæœ¬ä¸­ , é»˜è®¤ä¸ºæ–°å¼ç±» , æ‰€ä»¥ä¹Ÿå¯ç›´æ¥ ` class Person: ` 

æˆ‘ä»¬åˆ›å»ºç±»æ—¶ , éƒ½é»˜è®¤ç»§æ‰¿äº†objectç±» , objectè¯¦è§£è§åæœŸæ–‡ç« 

* å®ä¾‹ (instance)

æˆ‘ä»¬çŸ¥é“ç±»æ˜¯ä¸€ä¸ªæŠ½è±¡ , æ—¢ç„¶æ˜¯æŠ½è±¡é‚£å°±æ˜¯ä¸å¯æ“ä½œçš„ , æ‰€ä»¥æˆ‘ä»¬å¦‚æœè¿›è¡Œæ“ä½œ , å°±éœ€è¦å°†è¿™ä¸€æŠ½è±¡çš„æ¦‚å¿µå˜æˆå…·ä½“çš„äº‹ç‰© , è¿™ä¸ªè¿‡ç¨‹æˆ‘ä»¬ç§°ä¸ºå®ä¾‹åŒ–

å®ä¾‹åŒ–: ` ç”±æŠ½è±¡çš„ç±»è½¬æ¢æˆå®é™…å­˜åœ¨çš„å¯¹è±¡çš„è¿‡ç¨‹ `

å®ä¾‹: ` ç”±ç±»è¿›è¡Œå®ä¾‹åŒ–æ‰€å¾—åˆ°çš„å¯¹è±¡ `  , ä¸Šè¿°æ —å­ä¸­çš„ ` p ` å°±æ˜¯ä¸€ä¸ªå®ä¾‹

## å±æ€§ä¸æ–¹æ³•

å±æ€§æ˜¯å®ä½“çš„æè¿°æ€§è´¨æˆ–ç‰¹å¾ , æ¯”å¦‚äººæœ‰åå­— , å¹´é¾„ , æ€§åˆ«ç­‰ . å½“ç„¶è¿˜æœ‰äººæ‰€èƒ½åšçš„äº‹æƒ…ä¹Ÿæ˜¯ä¸€ç§å±æ€§ , æ¯”å¦‚åƒé¥­ , ç¡è§‰ , å–æ°´ç­‰ . å¯¹äºè¿™ä¸¤ç§å±æ€§ , ä¸€ç§æ˜¯è¡¨ç¤ºç‰¹å¾çš„ , å«åšé™æ€å±æ€§ , å¦ä¸€ç§åˆ™æ˜¯è¡¨ç¤ºåŠŸèƒ½çš„ , å«åšåŠ¨æ€å±æ€§

åœ¨Pythonä¸­ , æˆ‘ä»¬å°†**é™æ€å±æ€§** å°±ç§°ä¸º` å±æ€§ `  , å°†**åŠ¨æ€å±æ€§** å°±ç§°ä¸º` æ–¹æ³•  `  , å¹¶ä¸”ä»¥å˜é‡æ¥è¡¨ç¤ºå±æ€§ , ä»¥å‡½æ•°è¡¨ç¤ºæ–¹æ³• , 

**PS:ç±»ä¸­çš„å‡½æ•°å·²ç»ä¸å«å‡½æ•°äº† , è€Œå«åšæ–¹æ³•**


è°ƒç”¨æ–¹å¼: `ç±»å.å±æ€§å`

```python
class Person:
    # ç±»å˜é‡
    role = 'student'
    # æ„é€ å‡½æ•°
    def __init__(self,name):
        # å®ä¾‹å˜é‡
        self.name = name
```


è°ƒç”¨æ–¹å¼: ç±»å . æ–¹æ³•å( )

```python
class Person:
    # æ™®é€šæ–¹æ³•
    def eat(self):
        pass
```

***ç‰¹æ®Šçš„ç±»å±æ€§***

| å±æ€§å            | è¯´æ˜                |
| -------------- | ----------------- |
| \_\_dict\_\_   | æŸ¥çœ‹ç±»æˆ–å¯¹è±¡æˆå‘˜ , è¿”å›ä¸€ä¸ªå­—å…¸ |
| \_\_name\_\_   | æŸ¥çœ‹ç±»çš„åå­—            |
| \_\_doc\_\_    | æŸ¥çœ‹ç±»çš„æè¿°ä¿¡æ¯ , å³æ³¨é‡Šéƒ¨åˆ†  |
| \_\_base\_\_   | æŸ¥çœ‹ç¬¬ä¸€ä¸ªçˆ¶ç±»           |
| \_\_bases\_\_  | æŸ¥çœ‹æ‰€æœ‰çˆ¶ç±» , è¿”å›ä¸€ä¸ªå…ƒç»„   |
| \_\_module\_\_ | æŸ¥çœ‹ç±»å½“å‰æ‰€åœ¨æ¨¡å—         |
| \_\_class\_\_  | æŸ¥çœ‹å¯¹è±¡é€šè¿‡ä»€ä¹ˆç±»å®ä¾‹åŒ–è€Œæ¥    |

PS:å¯¹äºå±æ€§å’Œæ–¹æ³• , åœ¨ç½‘ä¸Šåˆ†ç±»å„ç§å„æ ·çš„éƒ½æœ‰ , æ¯”å¦‚å­—æ®µ , è¿˜æœ‰èœé¸Ÿæ•™ç¨‹ä¸­çš„ä¸€äº› , å…¶å®æœ¬è´¨ä¸Šéƒ½æ˜¯ä¸€ä¸ªä¸œè¥¿

## æ„é€ å‡½æ•°

åœ¨ä¸Šè¿°ä¾‹å­ä¸­ , å¯ä»¥çœ‹åˆ°æœ‰ä¸€ä¸ª\_\_init\_\_ æ–¹æ³• , è¿™ä¸ªæ–¹æ³•å«åšæ„é€ æ–¹æ³• , ç”¨äºåˆå§‹åŒ–å±æ€§ , æ‰€ä»¥å¦‚æœæˆ‘ä»¬è¦è®¾ç½®å±æ€§ , é‚£ä¹ˆæ„é€ æ–¹æ³•æ˜¯å¿…é¡»è¦çš„

> ***self*** 

æˆ‘ä»¬ç›´æ¥é€šè¿‡å®ä¾‹æ¥è¯´æ˜

```python
class Foo:
    def __init__(self,name):
        self.name = name
    def func(self):
        print(id(self))
a = Foo('Lyon')
# æ‰“å°å®ä¾‹açš„å†…å­˜åœ°å€
print(id(a))
# è°ƒç”¨ç±»ä¸­çš„funcæ–¹æ³•,å³æ‰“å°selfçš„å†…å­˜åœ°å€
a.func()
'''
æ‰§è¡Œç»“æœ:
1703689404544
1703689404544
ç»“æœåˆ†æ:
æˆ‘ä»¬å‘ç°açš„å†…å­˜åœ°å€å’Œselfçš„å†…å­˜åœ°å€æ˜¯ä¸€æ ·çš„,ä¹Ÿå°±æ˜¯è¯´selfå…¶å®å°±æ˜¯å®ä¾‹æœ¬èº«
é‚£ä¹ˆåœ¨æˆ‘ä»¬è¿›è¡Œå®ä¾‹åŒ–çš„æ—¶å€™,self.name = name å°±æ˜¯ç»™å®ä¾‹æ·»åŠ ä¸€ä¸ªnameå±æ€§,è¯¥å±æ€§çš„å€¼å°±æ˜¯æˆ‘ä»¬åœ¨å®ä¾‹åŒ–æ—¶ä¼ å…¥çš„'Lyon'
æ‰€ä»¥å¦‚æœæˆ‘ä»¬éœ€è¦ç»™å¯¹è±¡æ·»åŠ å±æ€§çš„è¯,å¯ä»¥ç›´æ¥é€šè¿‡ å¯¹è±¡.å±æ€§å = å±æ€§å€¼ çš„æ–¹å¼è¿›è¡Œæ·»åŠ 
'''
```

å°†ä¸Šæ —å­ä¸­çš„æ„é€ å‡½æ•°å†æ¢ä¸ªå§¿åŠ¿çœ‹çœ‹

```python
a = Foo('Lyon')
# ç­‰ä»·äºå¦‚ä¸‹,ç”¨ç±»åè°ƒç”¨ç±»ä¸­çš„æ–¹æ³•
Foo.__init__(a,'Lyon')
```

## å‘½åç©ºé—´

åœ¨å‡½æ•°ä¸­ , Pythonè§£é‡Šå™¨åœ¨æ‰§è¡Œæ—¶ , ä¼šå°†å‡½æ•°åç§°ä¾æ¬¡åŠ è½½åˆ°å‘½åç©ºé—´ , ç±»å½“ç„¶ä¹Ÿä¸€æ ·

æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç±»æ—¶ , Pythonè§£é‡Šå™¨ä¸€æ‰§è¡Œå°±ä¼šåˆ›å»ºä¸€ä¸ªç±»çš„å‘½åç©ºé—´ , ç”¨æ¥å­˜å‚¨ç±»ä¸­å®šä¹‰çš„æ‰€æœ‰åç§°( å±æ€§å’Œæ–¹æ³• ) , è€Œæˆ‘ä»¬è¿›è¡Œå®ä¾‹åŒ–æ—¶ , Pythonè§£é‡Šå™¨åˆä¼šä¸ºæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå®ä¾‹å‘½åç©ºé—´ , ç”¨æ¥å­˜æ”¾å®ä¾‹ä¸­çš„åç§°

å½“æˆ‘ä»¬åˆ©ç”¨ ` å¯¹è±¡. åç§° `  æ¥è®¿é—®å¯¹è±¡å±æ€§ ( é™æ€ä¸åŠ¨æ€ ) æ—¶ , Pythonè§£é‡Šå™¨ä¼šå…ˆåˆ°è¯¥å¯¹è±¡çš„å‘½åç©ºé—´ä¸­å»æ‰¾**è¯¥åç§°**  , æ‰¾ä¸åˆ°å°±å†åˆ°ç±» ( è¯¥å¯¹è±¡å®ä¾‹åŒ–ä¹‹å‰çš„ç±» ) çš„å‘½åç©ºé—´ä¸­å»æ‰¾ , æœ€åå¦‚æœéƒ½æ²¡æ‰¾åˆ° , é‚£ä¹ˆå°±æŠ›å‡ºå¼‚å¸¸äº† 

å‘½åç©ºé—´çš„æœ¬è´¨æ˜¯ä¸€ä¸ªå­—å…¸ , æˆ‘ä»¬å¯ä»¥è®¿é—®å¯¹è±¡çš„ `__dict__` å±æ€§å¾—åˆ°å‘½åç©ºé—´

è®¿é—®å±æ€§å®ä¾‹

```python
class A(object):
    """
    è¿™æ˜¯ä¸€ä¸ªç±»
    """
    pass
a = A()
# è®¿é—®å®ä¾‹açš„__doc__å±æ€§
print(a.__doc__)
'''
æ‰§è¡Œç»“æœ:

    è¿™æ˜¯ä¸€ä¸ªç±»
    
'''
```

## åµŒå¥—ç»„åˆ

å¯¹è±¡äº¤äº’

```python
class Person:
    def __init__(self, name):
        self.name = name
    def attack(self,per):
        print("{} attacked {}".format(self.name, per.name))
lyon = Person("Lyon")
kenneth = Person("kenneth")
lyon.attack(kenneth)
# æ‰§è¡Œç»“æœ: Lyon attacked kenneth
```

ç±»çš„ç»„åˆ

ä¼ å‚æ—¶ç»„åˆ

```python
class BirthDate:
    def __init__(self, year, month, day):
        self.year = year
        self.month = month
        self.day = day
class Person:
    def __init__(self, name, birthdate):
        self.name = name
        self.birthdate = birthdate
p = Person('Lyon', BirthDate(2000, 1, 1))
```

å®šä¹‰æ—¶ç»„åˆ

```python
class BirthDate:
    def __init__(self, year, month, day):
        self.year = year
        self.month = month
        self.day = day
class Person:
    def __init__(self, name, year, month, day):
        self.name = name
        self.birthdate = BirthDate(year, month, day)
p = Person('Lyon', 2000, 1, 1)
```
