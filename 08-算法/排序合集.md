# æ’åºç®—æ³•


<extoc></extoc>

## å‰è¨€  ğŸ€

æ’åºé—®é¢˜æ˜¯æˆ‘ä»¬å­¦ä¹ ç¼–ç¨‹è¿‡ç¨‹ä¸­æœ€å¸¸è§çš„ , ä»¥Pythonä¸­çš„åˆ—è¡¨ä¸ºä¾‹ , è¿›è¡Œæ’åºç®—æ³•åˆ†æ , 

åœ¨è¿›è¡Œåˆ†æä¹‹å‰ , æˆ‘ä»¬å…ˆè‡ªå·±å†™ä¸€ä¸ªæ—¶é—´æµ‹è¯•è£…é¥°å™¨

timewrap.py

```python
import time
def cal_time(func):
    def wrapper(*args, **kwargs):
        t1 = time.time()
        result = func(*args, **kwargs)
        t2 = time.time()
        print("%s running time: %s secs." % (func.__name__, t2-t1))
        return result
    return wrapper
```

è¿™ä¸ªè£…é¥°å™¨åªæ˜¯ä¸ºäº†è¿›è¡Œç®€å•çš„æ—¶é—´æµ‹è¯• , å› ä¸ºå½±å“ä¸€ä¸ªç®—æ³•çš„æ‰§è¡Œæ—¶é—´å®åœ¨æ˜¯å¤ªå¤š , ä½†å¯¹äºæˆ‘ä»¬å­¦ä¹ ç®—æ³•ç¡®æ˜¯å¤Ÿäº†

## å†’æ³¡æ’åº  ğŸ€

å·¥ä½œæµç¨‹ : 

1. æ¯”è¾ƒç›¸é‚»çš„å…ƒç´  , å¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ , å°±äº¤æ¢å®ƒä»¬
2. å¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ ä½œåŒæ ·çš„å·¥ä½œ , ä»åˆ—è¡¨çš„å¼€å§‹åˆ°ç»“å°¾ä¾æ¬¡è¿›è¡Œ , å¦‚æœåˆ—è¡¨é•¿åº¦ä¸ºn , é‚£ä¹ˆæ€»å…±èµ°(n-1)èºº

å›¾è§£ : 

![bubble_sort](http://oux34p43l.bkt.clouddn.com/bubble_sort.gif)


ä»£ç å®ç° : 

```python
import random
from timewrap import *
# ç¬¬ä¸€ç‰ˆ
@cal_time
def bubble_sort_1(li):
    # æ€»å…±èµ°n-1èºº
    for n in range(len(li) - 1):
		# æ¯ä¸€èººæ¯”è¾ƒ(æ€»é•¿åº¦-n-1æ¬¡)
        for j in range(0, len(li) - n - 1):
            if li[j] > li[j+1]:
                li[j], li[j+1] = li[j+1], li[j]

# åœ¨ç¬¬ä¸€ç‰ˆçš„åŸºç¡€è¿›è¡Œä¼˜åŒ–                
@cal_time
def bubble_sort_2(li):
    # æ€»å…±èµ°(n-1)èºº
    for n in range(len(li) - 1):
        # æ²¡æœ‰æ”¹å˜è¯´æ˜å…ƒç´ ä½ç½®æ­£ç¡®,ä¸ºäº†é˜²æ­¢æ›´å¤šä¸å¿…è¦çš„æ¯”è¾ƒ
        change = False
        # æ¯ä¸€èººæ¯”è¾ƒ(æ€»é•¿åº¦-n-1æ¬¡)
        for j in range(0, len(li) - n - 1):
            if li[j] > li[j+1]:
                li[j], li[j+1] = li[j+1], li[j]
                change = True
        if not change:
            return

li = list(range(10000))
random.shuffle(li)
bubble_sort_1(li)
bubble_sort_2(li)
'''
æ‰§è¡Œç»“æœ:
bubble_sort_1 running time: 29.570897817611694 secs.
bubble_sort_2 running time: 0.002001523971557617 secs.
'''
```

## é€‰æ‹©æ’åº  ğŸ€

å·¥ä½œæµç¨‹ : 

æ¯æ¬¡ä»å¾…æ’åºçš„æ•°æ®å…ƒç´ ä¸­é€‰å‡ºæœ€å° (æˆ–æœ€å¤§) çš„ä¸€ä¸ªå…ƒç´  , å­˜æ”¾åœ¨åºåˆ—çš„èµ·å§‹ä½ç½® , ç›´åˆ°å…¨éƒ¨å¾…æ’åºçš„æ•°æ®å…ƒç´ æ’å®Œ

ä»£ç å®ç° : 

```python
import random
from timewrap import *
@cal_time
def select_sort(li):
    # æ€»å…±èµ°(n-1)èºº
    for n in range(len(li) - 1):
        # æœ€å°æ•°çš„ä½ç½®
        min_loc = n
        for j in range(n + 1, len(li) - 1):
            if li[j] < li[min_loc]:
                min_loc = j
        li[n], li[min_loc] = li[min_loc], li[n]

li = list(range(10000))
random.shuffle(li)
select_sort(li)
'''
æ‰§è¡Œç»“æœ:
select_sort running time: 18.08176565170288 secs.
'''
```

## æ’å…¥æ’åº  ğŸ€

å·¥ä½œæµç¨‹ : 

1. å­˜åœ¨ä¸€ä¸ªå·²ç»æœ‰åºçš„æ•°æ®åºåˆ—
2. å°†åç»­æ•°æ®æŒ‰ç…§è¦æ±‚ä¾æ¬¡ä¸€ä¸ªä¸ªæ’å…¥æœ‰åºåºåˆ—ä¸­

å›¾è§£ : 

![insert_sort](http://oux34p43l.bkt.clouddn.com/insert_sort.gif)

ä»£ç å®ç° : 

```python
import random
from timewrap import *
@cal_time
def insert_sort(li):
    # å¾ªç¯æ— åºåŒºè¿›è¡Œæ’åº
    for n in range(1, len(li)):
        tmp = li[n]
        # æŒ‡å‘æœ‰åºåŒºæœ€åä½ç½®
        j = n - 1
        while li[j] > tmp and j >= 0:
            li[j+1] = li[j]
            j -= 1
        li[j+1] = tmp

li = list(range(10000))
random.shuffle(li)
insert_sort(li)
'''
æ‰§è¡Œç»“æœ:
insert_sort running time: 18.230905055999756 secs.
'''
```

## å¿«é€Ÿæ’åº  ğŸ€

å·¥ä½œæµç¨‹ :

1. å–ä¸€ä¸ªå…ƒç´ P(ç¬¬ä¸€ä¸ªå…ƒç´ ) , ä½¿å…ƒç´ På½’ä½
2. åˆ—è¡¨è¢«Påˆ†æˆä¸¤éƒ¨åˆ† , å·¦è¾¹éƒ½å°äºP , å³è¾¹éƒ½å¤§äºP
3. é€’å½’å®Œæˆæ’åº

å›¾è§£ : 

![quick_sort](http://oux34p43l.bkt.clouddn.com/quick_sort.gif)

ä»£ç å®ç° : 

```python
import random
from timewrap import *
import copy
import sys
# ä¿®æ”¹é€’å½’æœ€å¤§å±‚æ•°
sys.setrecursionlimit(100000)

def partition(li, left, right):
    """
    è¿›è¡Œåˆ†åŒº
    """
    # é˜²æ­¢å‡ºç°æœ€åæƒ…å†µ
    # ri = random.randint(left, right)
    # li[left], li[ri] = li[ri], li[left]
    tmp = li[left]
    while left < right:
        while left < right and li[right] >= tmp:
            right -= 1
        li[left] = li[right]
        while left < right and li[left] <= tmp:
            left += 1
        li[right] = li[left]
    li[left] = tmp
    return left

def _quick_sort(li, left, right):
    """
    è¿›è¡Œæ’åº
    """
    if left < right:    # è‡³å°‘æœ‰ä¸¤ä¸ªå…ƒç´ 
        mid = partition(li, left, right)
        _quick_sort(li, left, mid-1)
        _quick_sort(li, mid+1, right)

@cal_time
def quick_sort(li):
    return _quick_sort(li, 0, len(li)-1)

li = list(range(10000))
random.shuffle(li)
quick_sort(li)
'''
æ‰§è¡Œç»“æœ:
quick_sort running time: 0.10507440567016602 secs.
'''
```

## å †æ’åº  ğŸ€

**å †åˆ†ç±»**

1. å¤§æ ¹å † : ä¸€é¢—å®Œå…¨äºŒå‰æ ‘ , æ»¡è¶³ä»»ä¸€èŠ‚ç‚¹éƒ½æ¯”å…¶å­©å­èŠ‚ç‚¹å¤§
2. å°æ ¹å † : ä¸€é¢—å®Œå…¨äºŒå‰æ ‘ , æ»¡è¶³ä»»ä¸€èŠ‚ç‚¹éƒ½æ¯”å…¶å­©å­èŠ‚ç‚¹å°

å·¥ä½œæµç¨‹ : 

1. å»ºç«‹å † , å·²å®Œæˆè°ƒæ•´ (ä»¥æ„å»ºå¤§æ ¹å †ä¸ºä¾‹)
2. å¾—åˆ°å †é¡¶å…ƒç´  , ä¸ºæœ€å¤§å…ƒç´ 
3. å»æ‰å †é¡¶ , å°†å †æœ€åä¸€ä¸ªå…ƒç´ æ”¾åˆ°å †é¡¶ , éšåé‡æ–°è°ƒæ•´ (æŒ¨ä¸ªå‡ºæ•°)
4. ä¸€ç›´é‡å¤3 , ç›´åˆ°å †ä¸ºç©º

æŒ¨ä¸ªå‡ºæ•°è§„åˆ™ : æ‰¾æœ€åä¸€ä¸ªæ•°ä½œä¸ºæ£‹å­ , ç„¶åå–å †é¡¶çš„å€¼ , å­˜æ”¾æœ€å , ä¾æ¬¡æ‰§è¡Œå–å‡º

å›¾è§£ : 

1.æ„å»ºå¤§æ ¹å † , ç´¢å¼•æŒ‰ç…§ä»ä¸Šå€’ä¸‹ , ä»å·¦åˆ°å³ä¾æ¬¡é€’å¢

![æ„é€ å¤§æ ¹å †](http://oux34p43l.bkt.clouddn.com/æ„é€ å¤§æ ¹å †.gif)

2.æŒ¨ä¸ªå‡ºæ•°

![æŒ¨ä¸ªå‡ºæ•°](http://oux34p43l.bkt.clouddn.com/æŒ¨ä¸ªå‡ºæ•°.gif)

ä»£ç å®ç° : 

```python
from timewrap import *
import random

def sift(li, low, high):
    """
    :param li:
    :param low: å †æ ¹èŠ‚ç‚¹çš„ä½ç½®
    :param high: å †æœ€æœ‰ä¸€ä¸ªèŠ‚ç‚¹çš„ä½ç½®
    :return:
    """
    # çˆ¶äº²çš„ä½ç½®
    i = low
    # å­©å­çš„ä½ç½®
    j = 2 * i + 1
    # åŸçˆ¶äº²
    tmp = li[low]
    while j <= high:
        # å¦‚æœå³å­©å­å­˜åœ¨å¹¶ä¸”å³å­©å­æ›´å¤§
        if j + 1 <= high and li[j+1] > li[j]:
            j += 1
        # å¦‚æœåŸçˆ¶äº²æ¯”å­©å­å°
        if tmp < li[j]:
            # æŠŠå­©å­å‘ä¸Šç§»åŠ¨ä¸€å±‚
            li[i] = li[j]
            i = j
            j = 2 * i + 1
        else:
            break
    li[i] = tmp

@cal_time
def heap_sort(li):
    n = len(li)
    # å»ºå †
    for i in range(n//2-1, -1, -1):
        sift(li, i, n-1)
    # æŒ¨ä¸ªå‡ºæ•°
    for j in range(n-1, -1, -1):    # jè¡¨ç¤ºå †æœ€åä¸€ä¸ªå…ƒç´ çš„ä½ç½®
        li[0], li[j] = li[j], li[0]
        # å †çš„å¤§å°å°‘äº†ä¸€ä¸ªå…ƒç´ (j-1)
        sift(li, 0, j-1)

li = list(range(10000))
random.shuffle(li)
heap_sort(li)
'''
æ‰§è¡Œç»“æœ:
heap_sort running time: 0.3037147521972656 secs.
'''
```

Pythonä¸­æœ‰ä¸€ä¸ªå†…ç½®æ¨¡å—`heapq`å¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿå®ç°å¯¹æ’åº

```python
import heapq
import random
from timewrap import *

@cal_time
def heap_sort(li):
    heapq.heapify(li)
    n = len(li)
    new_li = []
    for i in range(n):
        new_li.append(heapq.heappop(li))
    return new_li

li = list(range(10000))
random.shuffle(li)
# å°æ ¹å †
heap_sort(li)
# å¤§æ ¹å †,ç›´æ¥åˆ©ç”¨æ–¹æ³•nlargest
heapq.nlargest(100, li)
```

## å½’å¹¶æ’åº  ğŸ€

å‡è®¾ç°åœ¨çš„åˆ—è¡¨åˆ†æˆä¸¤æ®µæœ‰åº , å¦‚ä½•å°†å…¶åˆæˆä¸ºä¸€ä¸ªæœ‰åºçš„åˆ—è¡¨

å·¥ä½œæµç¨‹ : 

1. åˆ†è§£åˆ—è¡¨ , ç›´è‡³åˆ†è§£ä¸ºä¸€ä¸ªä¸ªåªæœ‰ä¸€ä¸ªå…ƒç´ çš„åˆ—è¡¨
2. æ¯”è¾ƒä¸¤æ®µåºåˆ—ä¸­ç´¢å¼•ç›¸åŒçš„å€¼çš„å¤§å° , ç¬¦åˆæ¡ä»¶å°±è¿›è¡Œäº¤æ¢ , å¦‚å°çš„åœ¨å·¦ , å¤§çš„åœ¨å³
3. è¿›è¡Œåˆå¹¶ , é‡å¤2æ“ä½œ , ç›´è‡³åˆå¹¶ä¸ºä¸€ä¸ªåˆ—è¡¨å¾—å‡ºç»“æœ

å›¾è§£ : 

![merge_sort](http://oux34p43l.bkt.clouddn.com/merge_sort.png?imageMogr2/blur/1x0/quality/75|watermark/2/text/bHlvbi55YW5nQHFxLmNvbQ==/font/YXBhcmFqaXRh/fontsize/560/fill/Izk0ODI4Mg==/dissolve/100/gravity/SouthEast/dx/10/dy/10)

ä»£ç å®ç° : 

```python
import random
def merge(li, low, mid, high):
    i = low
    j = mid + 1
    ltmp = []
    while i <= mid and j <= high:
        if li[i] < li[j]:
            ltmp.append(li[i])
            i += 1
        else:
            ltmp.append(li[j])
            j += 1
    while i <= mid:
        ltmp.append(li[i])
        i += 1
    while j <= high:
        ltmp.append(li[j])
        j += 1
    li[low:high+1] = ltmp

def _merge_sort(li, low, high):
    # è‡³å°‘ä¸¤ä¸ªå…ƒç´ 
    if low < high:
        mid = (low + high) // 2
        _merge_sort(li, low, mid)
        _merge_sort(li, mid+1, high)
        merge(li, low, mid, high)

def merge_sort(li):
    return _merge_sort(li, 0, len(li)-1)

li = list(range(1,9))
random.shuffle(li)
merge_sort(li)
```

## å¸Œå°”æ’åº  ğŸ€

å¸Œå°”æ’åºæ˜¯ä¸€ç§åˆ†ç»„æ’å…¥æ’åºç®—æ³•

å·¥ä½œæµç¨‹ : 

1. é¦–å…ˆå–ä¸€ä¸ªæ•´æ•°`d1=n/2` , å°†å…ƒç´ åˆ†ä¸ºd1ä¸ªç»„ , æ¯ç»„ç›¸é‚»ä¸¤å…ƒç´ è·ç¦»ä¸ºd1 , åœ¨å„ç»„å†…è¿›è¡Œç›´æ¥æ’å…¥æ’åº
2. å–ç¬¬äºŒä¸ªæ•´æ•°`d2=d1/2` , é‡å¤ä¸Šè¿°åˆ†ç»„æ’åºè¿‡ç¨‹ , ç›´åˆ°`d1=1` , å³æ‰€æœ‰å…ƒç´ åœ¨åŒä¸€ç»„å†…è¿›è¡Œç›´æ¥æ’å…¥æ’åº

å¸Œå°”æ’åºæ¯èººå¹¶ä¸ä½¿æŸäº›å…ƒç´ æœ‰åº , è€Œæ˜¯ä½¿æ•´ä½“æ•°æ®è¶Šæ¥è¶Šè¿›é˜¶æœ‰åº ; æœ€åä¸€è¶Ÿæ’åºä½¿å¾—æ‰€æœ‰æ•°æ®æœ‰åº

ä»£ç å®ç° : 

```python
import random
def shell_sort(li):
    gap = int(len(li) // 2)
    while gap > 0:
        for i in range(gap, len(li)):
            tmp = li[i]
            print(i-gap)
            j = i - gap
            while j >= 0 and tmp < li[j]:
                li[j + gap] = li[j]
                j -= gap
                li[j + gap] = tmp
                gap = int(gap / 2)

li = list(range(10000))
random.shuffle(li)
shell_sort(li)
print(li)
```

## è®¡æ•°æ’åº  ğŸ€

ç°æœ‰ä¸€ä¸ªåˆ—è¡¨ , åˆ—è¡¨ä¸­çš„æ•°èŒƒå›´éƒ½åœ¨0åˆ°100ä¹‹é—´ , åˆ—è¡¨é•¿åº¦å¤§çº¦ä¸º100ä¸‡ , è®¾è®¡ç®—æ³•åœ¨O(n)æ—¶é—´å¤æ‚åº¦å†…å°†åˆ—è¡¨è¿›è¡Œæ’åº

å·¥ä½œæµç¨‹ : 

1. æŸ¥æ‰¾åˆ—è¡¨ä¸­æœ€å¤§å’Œæœ€å°çš„å…ƒç´ 
2. å¼€è¾Ÿä¸€ä¸ªæ–°çš„ç©ºé—´å­˜æ”¾ç»Ÿè®¡çš„æ¯ä¸ªå…ƒç´ å‡ºç°æ¬¡æ•°
3. åå‘å¡«å……ç›®æ ‡åˆ—è¡¨

ä»£ç å®ç° : 

```python
import random
import copy
from timewrap import *

@cal_time
def count_sort(li, max_num = 100):
    count = [0 for i in range(max_num+1)]
    for num in li:
        count[num]+=1
    li.clear()
    for i, val in enumerate(count):
        for _ in range(val):
            li.append(i)

@cal_time
def sys_sort(li):
    li.sort()

li = [random.randint(0,100) for i in range(100000)]
li1 = copy.deepcopy(li)
count_sort(li)
'''
æ‰§è¡Œç»“æœ:
count_sort running time: 0.024517059326171875 secs.
'''
```

## æ¡¶æ’åº  ğŸ€

æ¡¶æ’åºçš„åŸºæœ¬æ€æƒ³æ˜¯å°†ä¸€ä¸ªæ•°æ®è¡¨åˆ†å‰²æˆè®¸å¤šæ¡¶ , ç„¶åæ¯ä¸ªæ¡¶å„è‡ªæ’åº , æœ‰å¯èƒ½å†ä½¿ç”¨åˆ«çš„æ’åºç®—æ³•æˆ–æ˜¯ä»¥é€’å½’æ–¹å¼ç»§ç»­ä½¿ç”¨æ¡¶æ’åºè¿›è¡Œæ’åº

å·¥ä½œæµç¨‹ :

1. å»ºç«‹ä¸€å †buckets
2. éå†åŸå§‹æ•°ç»„ , å¹¶å°†æ•°æ®æ”¾å…¥åˆ°å„è‡ªçš„bucketså½“ä¸­
3. å¯¹éç©ºçš„bucketsè¿›è¡Œæ’åº 
4. æŒ‰ç…§é¡ºåºéå†è¿™äº›bucketså¹¶æ”¾å›åˆ°åŸå§‹æ•°ç»„ä¸­å³å¯æ„æˆæ’åºåçš„æ•°ç»„

ä»£ç å®ç° : 

```python
import random
from timewrap import *

def list_to_buckets(li, iteration):
    """
    :param li: åˆ—è¡¨
    :param iteration: è£…æ¡¶æ˜¯ç¬¬å‡ æ¬¡è¿­ä»£
    :return:
    """
    buckets = [[] for _ in range(10)]
    for num in li:
        digit = (num // (10 ** iteration)) % 10
        buckets[digit].append(num)
    return buckets

def buckets_to_list(buckets):
    return [num for bucket in buckets for num in bucket]

@cal_time
def radix_sort(li):
    maxval = max(li) 
    it = 0
    while 10 ** it <= maxval:
        li = buckets_to_list(list_to_buckets(li, it))
        it += 1
    return li

li = [random.randint(0,1000) for _ in range(100000)]
radix_sort(li)
'''
æ‰§è¡Œç»“æœ:
radix_sort running time: 0.3001980781555176 secs.
'''
```

## å°ç»“  ğŸ€

| æ’åºæ–¹æ³• | æ—¶é—´å¤æ‚åº¦(å¹³å‡) | æ—¶é—´å¤æ‚åº¦(æœ€å) | æ—¶é—´å¤æ‚åº¦(æœ€å¥½) | ç©ºé—´å¤æ‚åº¦                      | ç¨³å®šæ€§  | å¤æ‚æ€§  |
| ---- | --------- | --------- | --------- | -------------------------- | ---- | ---- |
| å†’æ³¡æ’åº | O(nÂ²)     | O(nÂ²)     | O(n)      | O(1)                       | ç¨³å®š   | ç®€å•   |
| é€‰æ‹©æ’åº | O(nÂ²)     | O(nÂ²)     | O(nÂ²)     | O(1)                       | ä¸ç¨³å®š  | ç®€å•   |
| æ’å…¥æ’åº | O(nÂ²)     | O(nÂ²)     | O(nÂ²)     | O(1)                       | ç¨³å®š   | ç®€å•   |
| å¿«é€Ÿæ’åº | O(nÂ²)     | O(nlogn)  | O(nlogn)  | å¹³å‡æƒ…å†µO(nlogn)<br />æœ€åæƒ…å†µO(n) | ä¸ç¨³å®š  | è¾ƒå¤æ‚  |
| å †æ’åº  | O(nlogn)  | O(nlogn)  | O(nlogn)  | O(1)                       | ä¸ç¨³å®š  | å¤æ‚   |
| å½’å¹¶æ’åº | O(nlogn)  | O(nlogn)  | O(nlogn)  | O(n)                       | ç¨³å®š   | è¾ƒå¤æ‚  |
| å¸Œå°”æ’åº | O(nlogn)  | O(nÂ²)     | O(n)      | O(1)                       | ä¸ç¨³å®š  | è¾ƒå¤æ‚  |
| è®¡æ•°æ’åº | O(n+k)    | O(n+k)    | O(n+k)    | O(n+k)                     | ç¨³å®š   | ç®€å•   |
| æ¡¶æ’åº  | O(n+k)    | O(nÂ²)     | O(n+k)    | O(n*k)                     | ä¸ç¨³å®š  | ç®€å•   |



